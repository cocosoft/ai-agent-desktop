# AI Agent Desktop 用户手册

## 目录
1. [简介](#简介)
2. [系统要求](#系统要求)
3. [安装指南](#安装指南)
4. [快速入门](#快速入门)
5. [功能详解](#功能详解)
6. [故障排除](#故障排除)
7. [常见问题](#常见问题)

## 简介

AI Agent Desktop 是一个功能强大的桌面AI代理管理应用，支持多种AI模型集成、智能任务分配和多代理协作。本手册将指导您如何安装、配置和使用该应用。

### 主要特性
- 🚀 **多模型支持**: 集成OpenAI、Ollama等多种AI模型
- 🤖 **智能代理**: 创建和管理智能代理，支持能力发现和自动测试
- 🔄 **任务路由**: 智能任务分配和负载均衡
- 📊 **性能监控**: 实时监控系统性能和代理状态
- 🎨 **用户友好**: 直观的图形界面和丰富的配置选项

## 系统要求

### 最低配置
- **操作系统**: Windows 10/11, macOS 10.15+, Ubuntu 18.04+
- **内存**: 4GB RAM
- **存储**: 500MB 可用空间
- **Python**: 3.8+

### 推荐配置
- **操作系统**: Windows 11, macOS 12+, Ubuntu 20.04+
- **内存**: 8GB RAM 或更高
- **存储**: 1GB 可用空间
- **Python**: 3.10+

## 安装指南

### 方法一：从源代码安装

1. **下载源代码**
   ```bash
   git clone https://github.com/your-repo/ai-agent-desktop.git
   cd ai-agent-desktop
   ```

2. **创建虚拟环境**
   ```bash
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # macOS/Linux
   source venv/bin/activate
   ```

3. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

4. **运行应用**
   ```bash
   python main.py
   ```

### 方法二：使用安装程序

#### Windows
1. 下载 `AI_Agent_Desktop_Setup.exe`
2. 以管理员身份运行安装程序
3. 按照向导完成安装
4. 从开始菜单或桌面快捷方式启动应用

#### macOS
1. 下载 `AI_Agent_Desktop.dmg`
2. 双击打开DMG文件
3. 将应用拖拽到Applications文件夹
4. 从Launchpad或Applications文件夹启动应用

#### Linux
1. 下载 `ai-agent-desktop_1.0.0_amd64.deb`
2. 安装DEB包
   ```bash
   sudo dpkg -i ai-agent-desktop_1.0.0_amd64.deb
   ```
3. 从应用菜单启动应用

## 快速入门

### 首次启动

1. **启动应用**
   - Windows: 双击桌面快捷方式或从开始菜单启动
   - macOS: 从Applications文件夹启动
   - Linux: 从应用菜单启动

2. **初始配置**
   - 应用首次启动时会自动创建必要的配置文件和数据库
   - 您将看到欢迎界面，可以开始配置AI模型

### 配置AI模型

#### 配置OpenAI
1. 点击菜单栏的"配置" → "模型配置"
2. 选择"OpenAI"标签页
3. 输入您的OpenAI API密钥
4. 点击"测试连接"验证配置
5. 点击"保存"应用配置

#### 配置Ollama
1. 确保Ollama服务正在运行
2. 在"模型配置"中选择"Ollama"标签页
3. 输入Ollama服务地址（默认: http://localhost:11434）
4. 点击"刷新模型"获取可用模型列表
5. 选择要使用的模型并保存配置

### 创建第一个代理

1. **打开代理管理**
   - 点击主界面的"代理管理"标签页
   - 点击"新建代理"按钮

2. **选择代理模板**
   - 选择"通用问答代理"模板
   - 点击"下一步"

3. **配置能力**
   - 选择"文本生成"和"问答"能力
   - 为每个能力选择对应的模型
   - 点击"下一步"

4. **完成创建**
   - 查看配置摘要
   - 输入代理名称（例如："我的第一个代理"）
   - 点击"创建"完成代理创建

5. **启动代理**
   - 在代理列表中找到新创建的代理
   - 点击"启动"按钮
   - 等待代理状态变为"运行中"

### 使用代理

1. **发送任务**
   - 在代理详情页面点击"发送任务"
   - 输入任务内容（例如："请解释什么是人工智能"）
   - 点击"发送"

2. **查看结果**
   - 任务结果将显示在结果区域
   - 您可以查看任务状态、响应时间和详细结果

## 功能详解

### 主界面

主界面包含以下主要区域：

#### 菜单栏
- **文件**: 新建、打开、保存、退出
- **编辑**: 复制、粘贴、撤销、重做
- **视图**: 切换界面主题、显示/隐藏工具栏
- **配置**: 应用配置、模型配置、代理配置
- **帮助**: 用户手册、关于、检查更新

#### 工具栏
- **新建代理**: 快速创建新代理
- **启动/停止**: 控制代理运行状态
- **刷新**: 刷新界面数据
- **设置**: 打开配置对话框

#### 标签页
- **仪表盘**: 系统概览和性能监控
- **代理管理**: 代理列表和状态管理
- **能力管理**: AI能力发现和配置
- **模型管理**: AI模型配置和监控
- **任务历史**: 任务执行记录和统计

### 代理管理

#### 代理列表
- 显示所有已创建的代理
- 支持按状态、类型、名称筛选
- 提供启动、停止、重启、删除操作

#### 代理详情
- **基本信息**: 代理名称、描述、创建时间
- **能力配置**: 代理具备的AI能力
- **模型映射**: 能力到模型的映射关系
- **性能统计**: 请求次数、成功率、平均响应时间
- **状态监控**: 实时状态、资源使用情况

#### 代理模板
- **通用问答代理**: 适用于一般问答场景
- **文本摘要代理**: 专门用于文本摘要
- **翻译代理**: 支持多语言翻译
- **代码生成代理**: 用于代码编写和调试
- **自定义代理**: 完全自定义配置

### 能力管理

#### 能力发现
- 自动测试AI模型的能力
- 支持文本生成、代码生成、文本摘要、翻译、问答等能力
- 生成详细的能力测试报告

#### 能力配置
- **能力定义**: 能力名称、描述、输入输出格式
- **测试用例**: 能力验证测试用例
- **性能指标**: 响应时间、准确率、成功率

### 模型管理

#### 模型配置
- **OpenAI**: GPT系列模型配置
- **Ollama**: 本地模型配置
- **模型参数**: 温度、最大token数、top_p等

#### 模型监控
- **连接状态**: 实时连接状态监控
- **性能统计**: 请求统计、响应时间、错误率
- **使用量**: token使用量、成本估算

### 任务系统

#### 任务发送
- 支持文本、文件、URL等多种任务类型
- 实时任务状态跟踪
- 任务优先级设置

#### 任务历史
- 完整的任务执行记录
- 任务结果和统计信息
- 支持任务导出和分享

### 配置管理

#### 应用配置
- **界面设置**: 主题、语言、字体大小
- **系统设置**: 自动启动、日志级别、数据备份
- **网络设置**: 代理服务器、超时设置

#### 快捷键配置
- 支持自定义键盘快捷键
- 预设常用操作快捷键
- 快捷键导入导出

## 故障排除

### 常见问题

#### 应用无法启动
**问题**: 应用启动时崩溃或无响应
**解决方案**:
1. 检查系统是否满足最低要求
2. 尝试以管理员身份运行
3. 查看日志文件获取详细错误信息
4. 重新安装应用

#### 模型连接失败
**问题**: OpenAI或Ollama连接失败
**解决方案**:
1. 检查网络连接
2. 验证API密钥或服务地址
3. 检查防火墙设置
4. 尝试使用代理服务器

#### 代理无法启动
**问题**: 代理状态一直显示"启动中"或"错误"
**解决方案**:
1. 检查模型配置是否正确
2. 查看代理日志获取详细错误
3. 重启应用或重新创建代理
4. 检查系统资源是否充足

#### 性能问题
**问题**: 应用响应缓慢或卡顿
**解决方案**:
1. 关闭不必要的代理
2. 减少并发任务数量
3. 增加系统内存
4. 优化模型配置参数

### 日志文件

应用日志文件位于以下位置：
- Windows: `%APPDATA%\AI Agent Desktop\logs\`
- macOS: `~/Library/Logs/AI Agent Desktop/`
- Linux: `~/.local/share/AI Agent Desktop/logs/`

### 数据备份

#### 自动备份
- 应用每天自动备份配置和数据
- 备份文件保存在备份目录中
- 保留最近7天的备份

#### 手动备份
1. 点击菜单栏"文件" → "备份数据"
2. 选择备份位置
3. 点击"开始备份"

#### 恢复备份
1. 点击菜单栏"文件" → "恢复数据"
2. 选择备份文件
3. 点击"开始恢复"

## 常见问题

### Q: 如何获取OpenAI API密钥？
A: 访问 https://platform.openai.com/api-keys 创建API密钥。

### Q: 如何安装和配置Ollama？
A: 访问 https://ollama.ai 下载并安装Ollama，然后运行 `ollama serve` 启动服务。

### Q: 应用支持哪些语言？
A: 目前支持中文和英文，可以在设置中切换语言。

### Q: 如何更新应用？
A: 新版本发布时，应用会提示更新，也可以从官网下载最新版本。

### Q: 数据安全如何保障？
A: 所有配置和数据都存储在本地，API密钥等敏感信息会加密存储。

### Q: 支持自定义模型吗？
A: 是的，可以通过实现BaseAdapter接口来支持自定义模型。

### Q: 如何报告bug或提出建议？
A: 可以通过应用内的反馈功能或访问GitHub仓库提交issue。

## 技术支持

如果您遇到无法解决的问题，可以通过以下方式获取帮助：

- **文档**: 查看在线文档和用户手册
- **社区**: 加入用户社区讨论问题
- **邮箱**: support@ai-agent-desktop.com
- **GitHub**: https://github.com/your-repo/ai-agent-desktop/issues

---

**版本**: 1.0.0  
**最后更新**: 2025年10月2日  
**版权所有**: © 2025 AI Agent Desktop Team
