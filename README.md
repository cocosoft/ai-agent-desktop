# AI Agent Desktop

基于A2A协议的Windows桌面AI代理管理应用。

## 项目概述

这是一个功能强大的Windows桌面应用，用于统一管理多种AI模型、自动发现模型能力、构建AI代理，并实现代理间的协作通信。

## 功能特性

### 核心功能
- **多模型统一管理**：支持Ollama、OpenAI、Claude、Gemini等主流AI模型
- **智能能力发现**：自动测试和发现模型支持的各种能力
- **可视化代理配置**：基于能力的代理构建和配置管理
- **A2A代理协作**：基于Google A2A协议的代理间通信和任务协调

### 技术特色
- **现代化GUI**：基于PyQt6的现代化用户界面
- **模块化架构**：清晰的层次分离和模块化设计
- **异步处理**：高性能的异步任务处理
- **配置驱动**：灵活的YAML配置管理
- **本地存储**：SQLite数据库持久化存储

## 快速开始

### 环境要求
- Windows 10/11 64位
- Python 3.9+
- 8GB RAM（推荐16GB）

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd ai_agent_desktop
```

2. **创建虚拟环境**
```bash
python -m venv venv
venv\Scripts\activate
```

3. **安装依赖**
```bash
pip install -r requirements.txt
```

4. **运行应用**
```bash
python src/main.py
```

### 配置模型

1. 在 `config/model_configs/` 目录下创建模型配置文件
2. 参考示例配置设置API密钥和参数
3. 启动应用后会自动发现和测试模型能力

## 项目结构

```
ai_agent_desktop/
├── src/                    # 源代码
│   ├── ui/                # 用户界面
│   ├── core/              # 核心业务逻辑
│   ├── adapters/          # 模型适配器
│   ├── a2a/               # A2A协议层
│   ├── data/              # 数据访问层
│   └── utils/             # 工具类
├── config/                # 配置文件
│   └── model_configs/     # 模型配置
├── tests/                 # 测试文件
├── docs/                  # 文档
└── data/                  # 数据文件
```

## 开发指南

### 开发环境设置

1. **安装开发依赖**
```bash
pip install -r requirements-dev.txt
```

2. **代码格式化**
```bash
black src/
isort src/
```

3. **运行测试**
```bash
pytest tests/
```

### 添加新模型支持

1. 在 `src/adapters/` 目录下创建新的适配器类
2. 实现统一的模型接口
3. 添加能力测试用例
4. 更新配置文件模板

## 配置说明

### 应用配置 (`config/app_config.yaml`)

主要配置项：
- 应用名称和版本
- 数据库路径和备份设置
- A2A服务器配置
- UI主题和语言设置
- 日志配置

### 模型配置 (`config/model_configs/`)

每个模型独立的YAML配置文件，包含：
- 模型类型和名称
- API端点配置
- 参数设置
- 能力声明

## 使用示例

### 创建文本生成代理

1. 打开应用主界面
2. 进入"代理管理"标签页
3. 点击"新建代理"按钮
4. 选择"文本生成代理"模板
5. 配置模型映射和能力设置
6. 保存并启动代理

### 代理间协作

1. 创建多个具有不同能力的代理
2. 通过A2A协议实现代理间通信
3. 使用任务协调器分配复杂任务
4. 监控代理状态和性能指标

## 故障排除

### 常见问题

1. **模型连接失败**
   - 检查网络连接
   - 验证API密钥配置
   - 确认模型服务状态

2. **代理无法启动**
   - 检查依赖模型是否可用
   - 查看日志文件获取详细信息
   - 验证代理配置是否正确

3. **性能问题**
   - 调整模型参数设置
   - 优化任务分配策略
   - 监控系统资源使用

### 获取帮助

- 查看详细文档：`docs/` 目录
- 提交问题：GitHub Issues
- 联系开发团队：<email>

## 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 贡献指南

欢迎贡献代码！请阅读 [CONTRIBUTING.md](CONTRIBUTING.md) 了解详情。

## 版本历史

- v1.0.0 (2025-09-27): 初始版本发布
  - 基础模型管理功能
  - 能力自动发现机制
  - 代理构建和管理
  - A2A协议集成
